<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>DC AirBnB Debate</title>

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
  integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
  crossorigin="" />
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <!-- conditional for CSS and favicon -->
  <script>
    // check environment host
    const isGitHubPages = window.location.hostname.includes('github.io');
    const isLocalhost = window.location.hostname.includes('127.0.0.1') || window.location.hostname.includes('localhost');

    const favicon = document.createElement('link');
    favicon.rel = 'icon';
    favicon.type = 'image/x-icon';
    
    const cssLink = document.createElement('link');
    cssLink.rel = 'stylesheet';
    
    if (isGitHubPages || (isLocalhost && !window.location.hostname.includes(':5000'))) {
      // GitHub Pages or localhost, for GitHub Pages
      favicon.href = './static/images/favicon.ico';
      cssLink.href = './static/css/styles.css';
    } else {
      // Flask or localhost, for Flask
      favicon.href = '/static/images/favicon.ico';
      cssLink.href = '/static/css/style.css';
    }
    
    document.head.appendChild(favicon);
    document.head.appendChild(cssLink);
  </script>

</head>
<body>

  <!-- navbar -->
  <div class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">
      <div class="navbar-header">
        <!-- <h2 style="color: white;">Select a Neighborhood</h2> -->
      </div>
      <div id="neighborhoods-control" class="navbar-center"></div>
    </div>
  </div>
  <div class="container">
    <div class="col-md-12 jumbotron text-center" style="background-image: url('./static/images/background.jpg'); background-size: cover; background-repeat: no-repeat; background-position: center center">
      <h1 style="color: white;">DC AirBnB Debate</h1>
      <p style="color: white;">Under Daily Active Development</p>
    </div>
  </div>
  <!-- <div class="row"> -->
    <!-- <div class="col-md-12"> -->
      <!-- <div class="container"> -->
        <!-- <div class="row"> -->
          <!-- <div class="col-md-12"> -->
            <!-- <div class="jumbotron"> -->
              <!-- <h2>Project Description</h2> -->
              <!-- <p> -->
                <!-- This project is a data visualization project that aims to provide insights into the AirBnB market in Washington, D.C. The project uses data from Inside AirBnB and the DC Open Data Portal to create visualizations that help users understand the AirBnB market in the city. The project includes a map that shows the locations of AirBnB listings in the city, as well as charts that show the distribution of listings by neighborhood and the average price of listings in each neighborhood. The project also includes a dashboard that allows users to explore the data and compare different neighborhoods in the city. -->
              <!-- </p> -->
            <!-- </div> -->
          <!-- </div> -->
        <!-- </div> -->
      <!-- </div> -->
    <!-- </div> -->
  <!-- </div> -->
  <div></div>
  <br>
  <hr class="custom-hr">
  <br>
  <!-- Welcome box with background -->
  <div class="welcome-box text-center">
    <strong>Welcome to the map</strong><br>
    Choose a neighborhood for a closer look<br>
    Click on an AirBnB to investigate a listing
  </div>
  <br>
  <br>
  <!-- <div id="neighborhoods-control" class="info legend" style="text-align: center;"></div> -->
  <br><br>
  <!-- Map -->
  <div class="row">
    <div class="col-md-12">
      <div class="map-container">
        <div id="map-id"></div>
      </div>
    </div>
  </div>
  <br><br>
  <div id="info-box" class="info legend" style="text-align: center;"></div>
  <div id="plot-container" class="container">
    <div class="row">
        <div class="col-sm-12 col-md-6">
          <div id="price-plot" class="plot" style="text-align: center;"></div>
        </div>
        <div class="col-sm-12 col-md-6">
          <div id="ratings-plot" class="plot" style="text-align: center;"></div>
        </div>
        <div class="col-sm-12 col-md-6">
          <div id="license-plot" class="plot" style="text-align: center;"></div>
        </div>
    </div>
  </div>

  <!-- d3 JS -->
  <script src="https://d3js.org/d3.v7.min.js"></script>
  <!-- Leaflet JS -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
  integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
  crossorigin=""></script>
  <!-- ESRI plugin for base layers -->
  <script src="https://cdn.jsdelivr.net/npm/esri-leaflet@2.3.3/dist/esri-leaflet.js"></script>
  <!-- Plotly JS -->
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <!-- Conditional JS Loading -->
  <script>
    // const isGitHubPages = window.location.hostname.includes('github.io');
    // const isLocalhost = window.location.hostname.includes('127.0.0.1') || window.location.hostname.includes('localhost');
  
    function loadScript(src) {
      const script = document.createElement('script');
      script.src = src;
      document.body.appendChild(script);
    }
  
    if (isGitHubPages || (isLocalhost && !window.location.hostname.includes(':5000'))) {
      // GitHub Pages or localhost for GitHub Pages
      loadScript('./static/js/map.js');
      loadScript('./static/js/plots.js');
      loadScript('./static/js/dataUtils.js');
      loadScript('./static/js/app.js');
    } else {
      // Flask or localhost for Flask
      loadScript('/static/js/map.js');
      loadScript('/static/js/plots.js');
      loadScript('/static/js/app.js'); 
    }
  </script>

</body>

</html>